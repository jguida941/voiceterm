# VoiceTerm Rust Remediation Audit

**Generated:** 2026-03-01T07:08:21.560345  
**Trigger:** check-ai-guard  
**Trigger steps:** code-shape-guard  
**Diff range:** working-tree vs HEAD

---

## Scope

This document is generated by `devctl audit-scaffold` when modularity or
best-practice guardrails fail. It is the execution surface for remediation
planning and implementation, not a historical archive.

## Required Sources

- `AGENTS.md`
- `dev/DEVELOPMENT.md`
- `dev/ARCHITECTURE.md`
- `dev/active/MASTER_PLAN.md`
- `dev/active/INDEX.md`
- `rust/Cargo.toml`
- `rust/src/**`

## Standards References

- Rust Book: <https://doc.rust-lang.org/book/>
- Rust Reference: <https://doc.rust-lang.org/reference/>
- Rust API Guidelines: <https://rust-lang.github.io/api-guidelines/>
- Rustonomicon: <https://doc.rust-lang.org/nomicon/>
- Rust std docs: <https://doc.rust-lang.org/std/>
- Clippy lint index: <https://rust-lang.github.io/rust-clippy/master/>

## Guard Summary

| Guard | Focus | Severity | Return | Violations | Status |
|---|---|---|---:|---:|---|
| `code-shape-guard` | modularity | high | 1 | 2 | needs remediation |
| `rust-lint-debt-guard` | lint debt | high | 0 | 0 | clean |
| `rust-best-practices-guard` | best practices | high | 0 | 0 | clean |
| `rust-audit-patterns-guard` | known audit regressions | critical | 0 | 0 | clean |
| `rust-security-footguns-guard` | security footguns | critical | 0 | 0 | clean |

## Findings

### code-shape-guard
- Focus: modularity
- Severity: high
- Return code: 1
- Violations:
- `rust/src/bin/voiceterm/main.rs` (crossed_soft_limit)
- `rust/src/bin/voiceterm/writer/state.rs` (hard_locked_file_grew)

## Remediation Actions

- [ ] Refactor oversized or growth-violating files listed by `code-shape-guard` into narrower modules/helpers.

## Verification Checklist

- [ ] Fixes implemented for all actionable findings.
- [ ] `python3 dev/scripts/devctl.py check --profile ai-guard` passes.
- [ ] Task-class bundle and risk-matrix checks pass.
- [ ] Docs and plan entries updated for behavior/process changes.
- [ ] Scaffold closed or regenerated with zero open findings.
